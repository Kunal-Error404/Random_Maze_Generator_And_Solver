┌─────────────────────────────────────────────────────────────────┐
│                        MAIN PROGRAM START                       │
└───────────────────────────────┬─────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│               INIT_RANDOM() - Seed random generator             │
└───────────────────────────────┬─────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│              GENERATE_MAZE() - Create random maze               │
│                                                                 │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────────────┐  │
│  │ Fill maze   │    │ Start at    │    │ Recursive Back-     │  │
│  │ with walls  │───▶│ (1,1) as    │───▶│ tracking Algorithm  │  │
│  │ (#)         │    │ path        │    │ to carve paths      │  │
│  └─────────────┘    └─────────────┘    └─────────────────────┘  │
└───────────────────────────────┬─────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                     game_loop() START                           │
└───────────────────────────────┬─────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│          Initialize: player=(1,1), exit=(H-2,W-2)              │
└───────────────────────────────┬─────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│           Mark exit position in maze: maze[ex][ey]=EXIT        │
└───────────────────────────────┬─────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│        SOLVE_MAZE() - Pre-calculate solution using Dijkstra    │
│                                                                 │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────────────┐  │
│  │ Initialize  │    │ Find shortest│   │ Backtrack to mark   │  │
│  │ graph nodes │───▶│ path using   │───▶│ solution path in   │  │
│  │ with ∞ dist │    │ Dijkstra     │    │ solution[][] array │  │
│  └─────────────┘    └─────────────┘    └─────────────────────┘  │
└───────────────────────────────┬─────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                 START_TIMER() - Begin timing                    │
└───────────────────────────────┬─────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                DRAW_MAZE() - Initial display                    │
│                                                                 │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────────────┐  │
│  │ Clear       │    │ Loop through│    │ Color elements:     │  │
│  │ screen      │───▶│ all maze    │───▶│ • Player=GREEN @    │  │
│  │             │    │ cells       │    │ • Walls=BLUE #      │  │
│  └─────────────┘    └─────────────┘    │ • Exit=RED X        │  │
│                                        │ • Solution=YELLOW * │  │
│                                        └─────────────────────┘  │
└───────────────────────────────┬─────────────────────────────────┘
                                │
                                ▼
                        ┌─────────────┐
                        │  MAIN GAME  │
                        │    LOOP     │
                        └──────┬──────┘
                               │
                ┌──────────────┴──────────────┐
                │                             │
                ▼                             ▼
        ┌───────────────┐             ┌───────────────┐
        │ Check for     │             │ Key pressed?  │
        │ keyboard input│             │ Process input │
        │ with _kbhit() │             └───────┬───────┘
        └───────┬───────┘                     │
                │                             │
                ▼                             ▼
        ┌───────────────┐             ┌───────────────┐
        │ No key        │             │ Read key with │
        │ pressed?      │             │ _getch()      │
        └───────┬───────┘             └───────┬───────┘
                │                             │
                ▼                             ▼
           ┌─────────┐                 ┌─────────────┐
           │ continue│                 │ Check which │
           │ (skip   │                 │ key pressed │
           │ to next │                 └───────┬───────┘
           │ frame)  │                         │
           └─────────┘                         │
                                     ┌─────────┴─────────┐
                                     │                   │
                                     ▼                   ▼
                           ┌─────────────────┐ ┌─────────────────┐
                           │ 'Q' key pressed │ │ 'H' key pressed │
                           └────────┬────────┘ └────────┬────────┘
                                    │                   │
                                    ▼                   ▼
                           ┌─────────────────┐ ┌─────────────────┐
                           │ Exit game loop  │ │ Toggle solution │
                           │ and return      │ │ visibility flag │
                           └─────────────────┘ └────────┬────────┘
                                                        │
                                                        ▼
                                               ┌─────────────────┐
                                               │ Redraw maze with│
                                               │ updated solution│
                                               │ display         │
                                               └─────────────────┘
                                     │
                                     ▼
                           ┌─────────────────┐
                           │ WASD key pressed│
                           └────────┬────────┘
                                    │
                                    ▼
                           ┌─────────────────┐
                           │ MOVE_PLAYER()   │
                           │ • Calculate new │
                           │   position      │
                           │ • Check wall    │
                           │   collision     │
                           │ • Update player │
                           │   coordinates   │
                           └────────┬────────┘
                                    │
                                    ▼
                           ┌─────────────────┐
                           │ Redraw maze with│
                           │ new position    │
                           └────────┬────────┘
                                    │
                                    ▼
                           ┌─────────────────┐
                           │ Check if player │
                           │ reached exit?   │
                           └────────┬────────┘
                                    │
                ┌───────────────────┴───────────────────┐
                │                                       │
                ▼                                       ▼
        ┌───────────────┐                     ┌───────────────┐
        │ Not at exit   │                     │ At exit       │
        │ Continue loop │                     │ END_TIMER()   │
        └───────────────┘                     └───────┬───────┘
                                                      │
                                                      ▼
                                             ┌───────────────┐
                                             │ Calculate &   │
                                             │ display time  │
                                             │ calculatetime()│
                                             └───────┬───────┘
                                                     │
                                                     ▼
                                             ┌───────────────┐
                                             │ Save time to  │
                                             │ file:         │
                                             │ savetimetofile()│
                                             └───────┬───────┘
                                                     │
                                                     ▼
                                             ┌───────────────┐
                                             │ Exit game &   │
                                             │ return to main│
                                             └───────┬───────┘
                                                     │
                                                     ▼
                                             ┌───────────────┐
                                             │ PROGRAM END   │
                                             └───────────────┘
